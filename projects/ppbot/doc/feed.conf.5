.\"
.\" Copyright (c) 2006-2007 Peter Postma <peter@pointless.nl>
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd October 7, 2007
.Dt FEED.CONF 5
.Os
.Sh NAME
.Nm feed.conf
.Nd configuration file for the ppbot web feed reader plugin
.Sh DESCRIPTION
The
.Nm
file defines the parameters for the web feed reader plugin for
.Xr ppbot 1 .
The file consists of feed definitions and configuration parameters.
.Pp
Empty lines and lines starting with a hash character
.Pq Sq #
are ignored.
.Ss Feed definition
A feed is defined by the keyword
.Sq feed ,
following by an unique identifier.
The configuration parameters for the feed are specified between
an opening brace and a closing brace.
.Pp
The supported web feeds are:
.Bl -bullet -compact -offset XxX
.It
Really Simple Syndication (RSS 2.0)
.It
RDF Site Summary (RSS 1.0 and RSS 0.90)
.It
Rich Site Summary (RSS 0.91)
.It
Atom 1.0
.El
.Ss Parameters
The following parameters and arguments are recognized:
.Bl -tag -width location
.It Sy channels Ar connection:#channel Op Ar ...
Define the channels to automatically send new items to.
This option only makes sense when the
.Ar update
parameter is set to
.Sq auto .
.It Sy count Ar number
Set the maximum
.Ar number
of items to show in a feed when using the command.
If this parameter is not specified, then the default number of 5 items will
be used.
.It Sy name Ar feedname
Define the name for the web feed.
This name will be prefixed with the messages in the channel.
.It Sy location Ar url
Define the web location of the web feed.
This should be a complete and valid URL.
The location may be specified with a http, feed, or rss URI scheme.
.Em This parameter is mandatory .
.It Sy refresh Ar minutes
Set the refresh interval for updating the web feed.
If this parameter is not specified, then the default interval of 30 minutes
will be used.
.It Sy update Ar auto | command
Specifies how the web feed should be updated.
When this parameter is set to
.Sq auto ,
the web feed will be updated periodically, with an interval specified by the
.Ar refresh
parameter.
When this parameter is set to
.Sq command ,
the web feed will be updated when a command in the channel is used.
If this parameter is not specified, then the default value
.Sq command
will be used.
.El
.Sh EXAMPLES
An example
.Nm
file:
.Bd -literal -offset indent
feed kerneltrap {
    location   "http://kerneltrap.org/node/feed"
    name       "Kerneltrap"
    update     auto
    refresh    30
    channels   pointless:#test
}
.Ed
.Sh SEE ALSO
.Xr ppbot 1 ,
.Xr ppbot.conf 5
